<!DOCTYPE html>
<html lang="en">
<head>
	<title>Mobile Mainframe</title>
	<style>
	* {
		padding: 10px;
		margin: 10px;
	}
	body, .left { margin: 0px; }
	.left {
		position:absolute; left: 0px; top: 0px;
		width: 160px; height: 110vw;
		background: #000;
		padding: 10px;
	}
	.left * {
		padding: 0px; margin: 0px;
		padding-bottom: 10px;
	}
	header img{
		width: 100%;
		height: auto;
	}
	header h1{
		color:#00F;
		font-family:monospace;
		font-size:1.5rem;
		margin:10px;
		text-align: center;
	}
	nav * {
		list-style:none;
		text-decoration:none;
		font-family: monospace;
		font-size:1.25rem;
		color:yellow;
		margin:0px;
		padding:0px;
		margin-top: 10px;
	}
	nav *:focus {
		outline:none;
		color:#FFF;
	}
	main {
		position:absolute; left: 160px; top:0px;
		max-width: 800px; height: 100vw;
		overflow-y: scroll;
	}
	h1, h2, h3, h4 {
		font-family: monospace;
		color: navy;
	}
	.command {
		background: silver;
		font-weight: bold;
		font-size: 1rem;
	}
	main pre, main a, main strong, main em {
		padding: 0px; margin: 0px;
	}
	</style>
</head>
<body>
	<div class="left">
		<header>
			<h1>Mobile Mainframe</h1>
			<a href="https://github.com/TheGeekOnSkates/mobile-mainframe" target="_blank" aria-label="Project page on GitHub"><img src="icon.png" alt=""/></a>
		</header>
		<nav><ul>
			<li><a href="#intro">Intro</a></li>
			<li><a href="#isnt">What this is NOT</a></li>
			<li><a href="#is">What this IS</a></li>
			<li><a href="#server">Server Setup</a></li>
			<li><a href="#browser">Terminal-in-a-browser</a></li>
			<li><a href="#terminal">Other Terminals</a></li>
			<li><a href="#future">Plans for future versions</a></li>
		</ul></nav>
	</div>
	<main>
		<h1 id="intro">Intro</h1>
		<div style="display: flex">
			<p>
			Many centuries ago, at the very Dawn of Time, when the Deep
			Magic was first being etched upon the Stone Table, computers
			were... well in a lot of ways they were very similar to how we
			do things today.  People had devices called terminals, that
			didn't do a whole lot by themselves.  They looked like
			computers, but they were more like magic doors; all they did
			was to send and receive messages from these massive computers
			called mainframes.  Some of them could do some cool things on
			their own, fancy tricks like colors and cursor positioning, but
			the mainframe controlled just about everything.  Everyone hooked
			up their machines to them, anything users typed was sent to
			them, and anything that was printed (on a screen or on paper -
			yes, the earliest models used paper) came from them.  
			</p>
			<img src="then.png" alt="" style="width:auto;height:200px;"/>
		</div>
		<div style="display: flex">
			<img src="now.png" alt="" style="width:auto;height:200px;"/>
			<p>
			Today, we've replaced terminals with phones and tablets, and
			today's version of the mainframe is what Big Tech has branded
			"the cloud".  Our devices are capable of a lot better graphics,
			and our connection to this mysterious thing we call the cloud
			is wireless now.  Yes, technology has come a long way since the
			Dawn of Time, and at one point were were really using all that
			power to its full potential... but nowadays we've kind of gone
			back to where our devices are just how we get in.  All the good
			stuff is done "in the clouds".
			</p>
		</div>
		<p>
		Now I'm over-simplifying a lot - and any computer geek would agree
		that the analogy is a stretch - but it's kinda not (lol).  Our
		computers are so powerful that we can run emulators in emulators.
		I can run an emulated C64 inside an emulated DOS box.  I can run a
		full-on Windows computer in a web browser.  We have all this power,
		and yet we want to store all our stuff on someone else's computer.
		As a result, our computers - as powerful as they are - run slow.
		Again, I'm oversimplifying here, but still... this shouldn't be the
		case.  Computers today aren't really doing that much more than what
		computers were doing 20 years ago.  Searching the web, catching up
		on news and stuff, listening to music, even instant messaging... all
		of that was easily doable 20 years ago.  Videos are the only serious
		resource-munchers that have any right to be.  But for text?  It's
		kind of gotten out of control.
		</p>
		<p>
		So I got to thinking, how can we lighten the load a bit?  How can we
		still have some cool text effects and all that, but get rid of all
		the unnecessary junk?  If we're going to use the old mainframe-style
		store-everything-on-a-remote-computer thing... how can we use that
		thing to the max?  That's what this project is about.
		</p>
		<h1 id="isnt">What this is NOT</h1>
		<p>
		Despite its name, "Mobile Mainframe" is NOT a mainframe emulator.  I
		don't know why you'd want that, much less on a mobile phone,
		cuz even for us retro-leving tech geeks there's just not a lot you
		could really do with one.  Also, most mainframe systems from back
		then were proprietary, so even if I really wanted it to be one, I
		couldn't do that legally - and I'm not cool with that.
		</p>
		<p>
		<strong style="padding: 0px;">BUT:</strong> If your geek cred is higher than mine - if you
		have an actual mainframe somewhere to telnet into, and you want
		to have access to it from your browser... you can do that!  Starting
		with version 2.0, Mobile Mainframe supports the WebSockets protocol,
		and I even used it to connect to <a href="https://www.british-legends.com/CMS/index.php/play-the-game/other-ways-to-play" target="_blank">the original MUD</a> (and <a href="https://github.com/PDP-10/MUD1/blob/master/README.md" target="_blank">the MUD1 source code</a> is most definitely meant to run on an actual mainframe - a PDP-10 I think).  
		</p>
		<img src="MUD1.png" alt="The original Multi-User Dungeon (MUD) was probably pretty accessible to screen reader users, too!" />
		<p>
		So Mobile Mainframe itself isn't a mainframe, but if can give you
		access to a mainframe from your mobile device if you want. :-)
		</p>

		<h1 id="is">What this IS</h1>
		<p>
		<strong>Short version: A new, lighter way to send and receive text
		over the web.</strong>  This software includes two components:
		</p>
		<ol>
			<li>
			<strong>A server: </strong>
			This is where the "magic" happens.  I'll explain more shortly.
			</li>
			<li>
			<strong>A terminal: </strong>
			This is what you'll use to connect to the server from your
			mobile device or computer.
			</li>
		</ol>
		<h1 id="server">Server setup</h1>
		<p style="padding: 4px; border: 1px solid black; background: #FDD;">
		<strong>WARNING:</strong> There is a bug that I haven't had time to 
		figure out in the server component: it's a resource-hog.  I don't
		know what I did wrong, but it eats CPU like I eat pizza.  But until
		I get time to fix it, there is a workaround: <a href="http://websocketd.com/" target="_blank">websocketd</a>.  Not only will it not go crazy
		with CPU usage, it also comes with some other options my PHP script
		doesn't do yet.  It's not perfect, but it's better.
		</p>
		<p>
			So the "server" is not a full-on software stack.  There's no
			crazy convoluted containerization shenanigans going on here,
			just a little PHP script.  But I call that script a server
			because it's responsible for serving your software.  It works
			by relaying data between the client (terminal) and a program
			of your choice.  I've tested it with vim (a text editor),
			language shells (GForth, Python), a game I built in standard C
			(with zero OS-specific dependencies), and of course, a MUD (MUDs
			were the video games they played back in the Dawn of Time).
			So PHP is just a "middle-man".  I chose PHP cuz it still powers
			like 78% of the web, and because it's what I know best.  If you
			want to add a server in another language, feel free to see how I
			did it and contribute!
		</p>
		<p>
			To set up the server, the first thing you'll want to do is go
			to my "server.php" file and edit the port number and command
			you want your Mobile Mainframe server to use.  I've explained
			what's what in comments, so you should be all good there.  You
			might need to change firewall settings and stuff though, so it
			might not be doable on shared web hosting.
		</p>
		<p>
			Once that's done, the next thing you'll need to dois run it.
			The commands I used in testing were:<br/>
		</p>
		<code><pre class="command">cd /var/www/html/mobile-mainframe
php -q ./server.php &amp;</pre></code>
		<p>
			I won't explain what all those options are, yoou can read the
			<a href="https://www.php.net/" target="_blank">PHP docs</a>
			for that, but that's all you need to do on the server-side.
		</p>
		<p><strong>NOTE:</strong> 
			The screenshots below show <code>server2.php</code>; that was
			an old file (renamed to just <code>server.php</code> in version
			2.1).  But you could have multiple server scripts running at
			the same time, even with different programs.  They'd have to
			be on different ports, but I guess my point here is just don't
			pay too much attention to the URLs in the pics. :-)
		</p>
		<h1 id="browser">Terminal-in-a-browser</h1>
		<p>
			With <a href="https://xtermjs.org/" target="_blank">xterm.js</a>
			and the WebSockets API (a standard web thing), I geek-rigged my
			own terminal-in-a-browser.  This should work on any device that
			supports modern web standards (not just mobile devices).
		</p>
		<img style="width:100%" src="browser.png" alt="Screenshot of Alter Aeon running in the Brave web browser" longdesc="If you're hearing a screen reader speak this to you, I strongly recommend this awesome game.  alteraeon.com has the details."/>
		<h1 id="terminal">Other Terminals</h1>
		<p>
		Now if you want to use a real terminal (or cool-retro-term,
		my favorite terminal emulator), there are tools already built
		for this exact purpose.  Foe example, I used <a href="https://lindevs.com/install-websocat-on-ubuntu/" target="_blank">websocat</a>.
		After following the instructions there, I ran the following command:<br/>
		<code class="command">websocat --null-terminated --binary ws://localhost:12345/server.php</code></br>
		Of course I had to start my server first (see the next section
		for how to do that).  And unlike others I tried, websocat was
		surprisingly good!  It worked great on most of the programs I
		used for testing (Vim was not great, but I think someone more
		knowledgeable about Bash than me can help find a solution to
		that).  But if all you want is the one for browsers, then
		you're all set.  You don't have to worry about any of this.
		<img style="width:100%" src="terminal.png" alt="Alter Aeon running in cool-retro-term" longdesc="The only real difference to note here is the command above, which is visible at the top of the screen."/>
		<h1 id="future">Plans for future versions</h1>
		<p>
		At this point, the project is in maintenance mode.  There are a few
		things I'd like to add, but they'll just have to come with time:
		</p>
		<ul>
			<li>The server has a pretty massive bug, and one I haven't had time to fix.  There is an easy workaround - and one I <strong>STRONGLY recommend</strong>: <a href="http://websocketd.com/" target="_blank">websocketd</a>.  This awesome utility is what I used in the screenshot where I served MUD1 on Mobile Mainframe.  It supports all kinds of things my little PHP script just doesn't do (yet); proxies and reverse something and a whole lot of advanced networking tricks I don't fully understand. Oh, and it won't waste CPU usage, so for now, use that (lol).  But someday, that bug needs to be fixed.</li>
			<li>I'd like to test it over SSL (https/wss).  If I ever get SSL on my little web server, I'll do that and fix whatever bugs come up.</li>
			<li>If I ever get my hands on a Mac, and learn how to use it, I'd like to see if I can figure out why it doesn't work on iOS Safari.  Safari is the new IE if you ask me - but I'd like to support it if possible.  Calling this project mobile anything, and not supporting iOS IE, is kinda silly. :-)</li>
			<li>I'd kind of like the JS to be a little more polished.  It could use an auto-connect option, maybe make the whole thing a little class, extending off xtermjs' Terminal class, or something like that.  Auto-connect options aside, I'd kind of like my url-reading code to use something like GNU Readline, fully supporting arrow keys and Home/End and all that.</li>
			<li>And as I discover other WebSockets clients, tools like websocat that work great with Mobile Mainframe, I'd kind of like to keep a running list here.</li>
		</ul>
		<div style="height:100px;"><!-- spacer --></div>
	</main>
</body>
</html>
